<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div>
    <h2 class="container">活动列表页面</h2>
</div>
<div class="container">
    <button type="button" class="btn btn-primary">创建活动</button>
    <table class="table">
        <thead>
        <tr>
            <th><input type="checkbox">全选</th>
            <th>名称</th>
            <th>开始时间</th>
            <th>结束时间</th>
            <th>状态</th>
            <th colspan="2">操作</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td colspan="6">数据正在加载中...</td>
        </tr>
        </tbody>
    </table>
</div>
<!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
<script src="/jquery/jquery.min.js"></script>
<!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
<script src="/bootstrap/js/bootstrap.min.js"></script>
<!-- 基于ajax技术向服务器端发异步请求获取数据，然后更新到页面上 -->
<script type="text/javascript">
    $(function doGetActivity() {
        doGetActivity();
    })

    //基于ajax技术向服务端发异步请求获取数据，然后更新的页面上。
    function doGetActivity() {
        //1.定义url
        var url = "findActivity";
        //2.定义请求参数
        //3.发送异步ajax请求，处理响应结果
        //Jquery中Get函数应用
        //向服务端发送Get请求，并将服务端返回的json格式字符串转换为json格式的js对象
        $.get(url, function (result) {
            //获取tbody对象
            var tBody =${"#tbodyId"}
                //清空tbody中内容
                tBody.empty();
            //迭代result对象，并将result内容追加到tbody中
            result.forEach(item => tBody.append(doCreatRow(item)));
            /* console.log(result);*/
        }, "json")
    }

    function doCreatRow(item) {
        return `<tr>
	           <td><input type='checkbox' value=${item.id}></td>
	           <td>${item.title}</td>
	           <td>${item.startTime}</td>
	           <td>${item.endTime}</td>
	           <td>${item.state}</td>
	           <td>delete</td>*
	         </tr>`;
    }
</script>
</body>
</html>